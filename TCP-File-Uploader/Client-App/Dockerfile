FROM openjdk:19

WORKDIR /app-client
ARG SERVER_HOST
ARG SERVER_PORT
ARG FILE_TO_UPLOAD_PATH
ENV SERVER_HOST=$SERVER_HOST
ENV SERVER_PORT=$SERVER_PORT
ENV FILE_TO_UPLOAD_PATH=$FILE_TO_UPLOAD_PATH
COPY "/out/artifacts/ClientFileUploaderDocker.jar" "app-client.jar"
CMD java -jar app-client.jar -s $FILE_TO_UPLOAD_PATH -p $SERVER_PORT -h $SERVER_HOST
